<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Alex&Iulia April 29th</title>
	<link rel="StyleSheet" type="text/css" href="alexiuliawedding.css">
    <script type="text/javascript" src="jquery-3.1.1.slim.min.js"></script>
    <script type="text/javascript" src="jquery.countdown.min.js"></script>
	<script src="utils.js"></script>
	<script src="notification.js"></script>
  </head>

  <body>
    <div id="message">
      <h1 id="welcome-message"></h1>    
    </div>
    <div id="return-message">
      <h4>Please come back March 29th.</h4>    
    </div>
    <div id="main-content">
      <h2>Iulia and Alex</h2>
  	  <h3>April 29th 2017</h3>
      <p id="time-left"></p>
    </div>

    <button id="confirmation-btn" class="blue">PLEASE CONFIRM</button>
	<div id="confirmation-dialog" class="modal">
	  <div class="modal-content">
	    <span class="close">&times;</span>
	    <div id="confirmation-form">
			Guest name and family name: <input type="text" id="guest-name"><br>
		  	<label id="confirmation-spouse" class="hidden">
		  		Guest name and family name: <input type="text" id="spouse-name"><br>
		  	</label><br>

			<div id="confirmation-partner-checkbox" class="hidden">
				<input type="checkbox" onclick="Utils.showInput(document.getElementById('confirmation-partner'), this)">Do you wish to confirm +1?<br>
			  	<label id="confirmation-partner" class="hidden">
			  		Name and family name: <input type="text" id="partner-name"><br>
			  	</label><br>
			</div>

			<div id="confirmation-accommodation-checkbox">
				<input type="checkbox" onclick="Utils.showInput(document.getElementById('confirmation-accommodation-period'), this)">Do you need accommodation?<br>
			  	<label id="confirmation-accommodation-period" class="hidden">
			  		Which nights?: <input type="text" id="accommodation-period"><br>
			  	</label><br>
		  	</div>

			Message for the bride and groom: <br />
			<textarea rows="5" cols="50" id="comment">Please leave here a message if you have any questions, concerns or just want to say 'Neața' :)</textarea><br><br>

			<button onclick="Notification.sendConfirmation(0)" class="blue">PLEASE CONFIRM</button>
	    </div>
	  </div>
	</div>
  </body>

  <script>
    window.onload = function() {
		Utils.setEnglishTime();
		Utils.setConfirmationDialog();
		
	  	var guestId = Utils.getQueryVariable("guest");
	  	var guestName;
	  	var welcome = "Neața,  ";

	  	var showSpouse = false;
	  	switch(guestId) {
		  case "markus.gemma":
		    welcome += "Markus and Gemma!";
	  	    guestName = "Markus and Gemma";
		    break;
		  case "katja.kramberger":		    
		  	welcome += "Katja!";
	  	    guestName = "Katja";
		    break;
		  case "amaris.castanon":	    
		  	welcome += "Amaris!";
	  	    guestName = "Amaris";
		    break;
		  case "anton.olga":	    
		  	welcome += "Anton and Olga!";
	  	    guestName = "Anton and Olga";
	  	    showSpouse = true;
		    break;
		  case "franz.valeria":	    
		  	welcome += "Franz and Valeria!";
	  	    guestName = "Franz and Valeria";
		    break;
		  case "niccolo.constantini":	    
		  	welcome += "dear ex-husband ;)";
	  	    guestName = "Niccolo Constantini";
		    break;
		  default:
		  	welcome = guestId + "!";
		}
		document.getElementById('welcome-message').innerHTML = welcome;
		Notification.sendPageAccessed(guestId);

		if (showSpouse) {
			// Show spouse
			document.getElementById('confirmation-spouse').style.display = "block";
		} else {
			// Show partner
			document.getElementById('confirmation-partner-checkbox').style.display = "block";
		}
	};
  </script>
</html>
